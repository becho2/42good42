<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <title>분리수거 테스트</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/modal-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />


    <style>
        * {
            font-family: 'Gaegu', cursive;
        }

        /*
        ##Device = Low Resolution Tablets, Mobiles (Landscape)
        ##Screen = B/w 481px to 767px
        ##Device = PC
        ##Screen = 481px 이상 해상도
        */
        @media (min-width: 481px) {

            html,
            body {
                width: 100%;
                height: 100%;
            }

            .container-fluid {
                height: 100%;
                background-color: #fff9e2;
            }

            .wrap {
                width: 550px;
                margin: auto;
                padding-top: 20px;

                border: 3px solid orange;
                border-radius: 12%;
            }

            .frame {
                width: 300px;
                height: 300px;

                border-radius: 90%;
                border: 4px solid orange;
                background-color: white;

                margin: auto;
                text-align: center;
            }

            .status-img {
                width: 80%;
                height: 80%;

                margin: auto;
                text-align: center;
            }

            .title {
                margin: auto;
                text-align: center;
            }

            .comment {
                margin: auto;
                text-align: center;
            }

            hr {
                /* background: url('http://i.stack.imgur.com/37Aip.png') no-repeat top center; */
                background: url('../static/img_2/seed.png') no-repeat top center;
                background-size: contain;
                display: block;
                height: 30px;
                border: 0;
                position: relative;
            }

            hr:before,
            hr:after {
                content: '';
                display: block;
                position: absolute;
                background: #d7d7d7;
                height: 2px;
                top: 8px;
            }

            hr:before {
                left: 0;
                right: 52%;
                margin-top: 5px;
                margin-right: 10px;
                background-color: orange;
            }

            hr:after {
                right: 0;
                left: 52%;
                margin-top: 5px;
                margin-left: 10px;
                background-color: orange;
            }
        }

        @media (max-width: 480px) {

            html,
            body {
                width: 100%;
                height: 100%;
            }

            .container-fluid {
                height: 100%;
                background-color: #fff9e2;
            }

            .wrap {
                width: 100%;
                margin: auto;
            }

            .frame {
                width: 220px;
                height: 220px;

                border-radius: 90%;
                border: 4px solid orange;
                background-color: white;

                margin: auto;
                text-align: center;
            }

            .status-img {
                width: 80%;
                height: 80%;

                margin: auto;
                text-align: center;
            }

            .title {
                margin: auto;
                text-align: center;
            }

            .comment {
                margin: auto;
                text-align: center;
            }

            hr {
                /* background: url('http://i.stack.imgur.com/37Aip.png') no-repeat top center; */
                background: url('../static/img_2/seed.png') no-repeat top center;
                background-size: contain;
                display: block;
                height: 30px;
                border: 0;
                position: relative;
            }

            hr:before,
            hr:after {
                content: '';
                display: block;
                position: absolute;
                background: #d7d7d7;
                height: 1px;
                top: 10px;
            }

            hr:before {
                left: 0;
                right: 52%;
                margin-top: 3px;
                margin-right: 13px;
                background-color: orange;
            }

            hr:after {
                right: 0;
                left: 52%;
                margin-top: 3px;
                margin-left: 13px;
                background-color: orange;
            }
        }
    </style>

    <script>

        let modalStatus = 0;

        let comm_txt1 = "<hr class= \"style-four\" id=\"hr-img1\">" +
            "<h5 style=\"text-align: center;\" id=\"comm-txt\">\n" +
            "                        <b>\n" +
            "                        전부 쓰레기~~ 마구잡이로 배출한 당신! 🤦‍♂🤦‍♀ <br>\n" +
            "                        쓴 소리 당첨입니다 ! <br>\n" +
            "                        당장은 나 하나쯤은.. 하겠지만<br>\n" +
            "                        몸소 느껴지는 날이 분명 다가와요.<br>\n" +
            "                        방금 풀어본 10 문제만이라도 지켜주신다면<br>\n" +
            "                        우리 지구가, 내가 살고 있는 이 곳이 훨~씬<br>\n" +
            "                        살기 좋아집니다 제가 장담할게요!<br>\n" +
            "                        모르는 게 많다는 건 배울 게 무궁무진하다는 것 !<br>\n" +
            "                        배움을 기꺼이 받아들이는 당신, 제법 멋져요^^b\n" +
            "                        </b>\n" +
            "                    </h5>";

        let comm_txt2 = "<hr class= \"style-four\" id=\"hr-img1\">" +
            "<h5 style=\"text-align: center;\" id=\"comm-txt\">\n" +
            "                        <b>\n" +
            "                        곁눈질로 배운 분리배출..\n <br>\n" +
            "                        어디서 봤는데.. 이렇게 하는 거 맞겠지..? 🤷‍♀️🤷‍♂️\n<br>\n" +
            "                        이것저것 헷갈리는 것투성이죠 😥<br>\n" +
            "                        분리배출을 해야한다는 마음가짐이면 충분합니다!<br>\n" +
            "                        곁눈질 STOP! 본격적으로 분리배출에 대해 공부한다면\n<br>\n" +
            "                        머지 않아 분리배출의 고수가 되어 <br>\n" +
            "                        지구를 지키는 수호자가 될 거 예요<br>\n" +
            "                        지구는 아니어도 우리 집은 지킬 줄 아는 사람이 되어야겠죠? ☺\n<br>\n" +
            "                        레벨업을 위해 아자아자 ! ♥\n" +
            "                        </b>\n" +
            "                    </h5>";

        let comm_txt3 = "<hr class= \"style-four\" id=\"hr-img1\">" +
            "<h5 style=\"text-align: center;\" id=\"comm-txt\">\n" +
            "                        <b>\n" +
            "                        내가 두는 훈수는 지구를 위한 일 ! <br>\n" +
            "                        그렇게 하는 거 아니야~ 이리 줘! 🙋‍♀️🙋‍♂️<br>\n" +
            "                        친구끼리 밥 먹고 난 뒤, 마구잡이로 뒤처리하는 모습을 보고<br>\n" +
            "                        차라리 내가 하겠다며 나서진 않나요?<br>\n" +
            "                        이것저것 잘 따져가며 분리배출에 노력하지만<br>\n" +
            "                        문제를 풀면서 오잉? 하셨을 당신 !<br>\n" +
            "                        충분히 잘 해오고 있었기때문에 이런 작은 디테일만 더 챙겨준다면<br>\n" +
            "                        분리배출 고수 완/전/가/능 %%<br>\n" +
            "                        그 날을 위해 오늘도 아자아자 ♥\n" +
            "                        </b>\n" +
            "                    </h5>";

        let comm_txt4 = "<hr class= \"style-four\" id=\"hr-img1\">" +
            "<h5 style=\"text-align: center;\" id=\"comm-txt\">\n" +
            "                        <b>\n" +
            "                        척척박사로는 부족해..♥ <br>\n" +
            "                        이건 유리! 이건 플라스틱! 이건 일반 쓰레기!\n 🙆‍♂️🙆‍♀️\n<br>\n" +
            "                        걸어다니는 검색창 아니신가요 !!\n<br>\n" +
            "                        헷갈릴 법한 것들로 추린 문제를 모두 맞춘 당신은.. <br>\n" +
            "                        앞으로도 꾸준히 그 발걸음 이어가주세요 ..♥<br>\n" +
            "                        10명 중 나 하나쯤이야,, 라고 생각하는 분들께<br>\n" +
            "                        나까지 100명!이란 생각으로 바뀔 수 있도록!<br>\n" +
            "                        보이지 않는 곳에서, 또 보이는 곳에서 당신의 실력을<br>\n" +
            "                        맘껏! 보여주세요 :)<br>\n" +
            "                        정말 대단하고 감사합니다 (—)(__) - 지구 올림\n" +
            "                        </b>\n" +
            "                    </h5>";

        /* 로딩 후 모달 불러오기 */
        /* https://alpreah.tistory.com/82 */
        $(document).ready(function () {
            // Handler for .ready() called.

            /* 최종 정답 개수 localstorage에서 가져오기 */
            let totalCount = 0;
            totalCount = localStorage.getItem('countCorrect');
            console.log(totalCount);

            /* 모달에 정답 갯수 넣어주기 */
            $('#cnt').html(totalCount);
            /* 모달 생성 */
            /* $('#exampleModalCenter').modal("show"); */
            $('.modal').modal("show");

            if (totalCount <= 3) {
                $('#top-img').attr("src", "../static/img_2/seed.png");
                /* $('#bottom-txt').text("레벨1, 씨앗 등급입니다."); */
                $('#bottom-txt').append("레벨1, <span style=\"color: saddlebrown; font-weight: bold\">씨앗</span>등급입니다.");
            } else if (totalCount >= 4 && totalCount < 7) {
                $('#top-img').attr("src", "../static/img_2/leaf.png");
                $('#bottom-txt').append("레벨2, <span style=\"color: green; font-weight: bold\">새싹</span>등급입니다.");
            } else if (totalCount >= 7 && totalCount < 9) {
                $('#top-img').attr("src", "../static/img_2/buds.png");
                $('#bottom-txt').append("레벨3, <span style=\"color: plum; font-weight: bold\">꽃망울</span>등급입니다.");
            } else {
                $('#top-img').attr("src", "../static/img_2/flower.png");
                $('#bottom-txt').append("레벨4, <span style=\"color: red; font-weight: bold\">꽃</span>등급입니다.");
            }

            let filter = "win16|win32|win64|macintel|mac|"; // PC일 경우 가능한 값
            if (navigator.platform) {
                if (filter.indexOf(navigator.platform.toLowerCase()) < 0) {
                    /* alert("모바일에서 접속하셨습니다"); */
                    /* totalCount 결과에 따라 출력문구 변경 */
                    /* hr 이미지 변경 */
                    if (totalCount <= 3) {
                        $('#frame-box').append('<img src="../static/img_2/1.png" class="status-img" alt="">');
                        $('#title-txt').append('<h2 id="h-txt">지구야 미안해 ㅠ ㅠ</h2>');
                        $('#comment-box').append(comm_txt1);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/seed.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/seed.png) no-repeat top center" });

                    } else if (totalCount >= 4 && totalCount < 7) {
                        $('#frame-box').append('<img src="../static/img_2/2.png" class="status-img" alt="">');
                        $('#title-txt').append('<h2 id="h-txt">대충..이렇게 하면 되겠지..?</h2>');
                        $('#comment-box').append(comm_txt2);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/leaf.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/leaf.png) no-repeat top center" });
                    } else if (totalCount >= 7 && totalCount < 9) {
                        $('#frame-box').append('<img src="../static/img_2/3.png" class="status-img" alt="">');
                        $('#title-txt').append('<h2 id="h-txt">마스터까지 단 한 발짝!</h2>');
                        $('#comment-box').append(comm_txt3);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/buds.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/buds.png) no-repeat top center" });
                    } else {
                        $('#frame-box').append('<img src="../static/img_2/4.png" class="status-img" alt="">');
                        $('#title-txt').append('<h2 id="h-txt">당신은 분리수거 마스터!!</h2>');
                        $('#comment-box').append(comm_txt4);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/flower.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/flower.png) no-repeat top center" });
                    }

                    $('#comm-txt').css("font-size", "13px");
                } else {
                    /* alert("PC에서 접속하셨습니다"); */
                    /* totalCount 결과에 따라 출력문구 변경 */
                    /* hr 이미지 변경 */
                    if (totalCount <= 3) {
                        $('#frame-box').append('<img src="../static/img_2/1.png" class="status-img" alt="">');
                        $('#title-txt').append('<h1 id="h-txt">지구야 미안해 ㅠ ㅠ</h1>');
                        $('#comment-box').append(comm_txt1);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/seed.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/seed.png) no-repeat top center" });

                    } else if (totalCount >= 4 && totalCount < 7) {
                        $('#frame-box').append('<img src="../static/img_2/2.png" class="status-img" alt="">');
                        $('#title-txt').append('<h1 id="h-txt">대충..이렇게 하면 되겠지..?</h1>');
                        $('#comment-box').append(comm_txt2);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/leaf.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/leaf.png) no-repeat top center" });
                    } else if (totalCount >= 7 && totalCount < 9) {
                        $('#frame-box').append('<img src="../static/img_2/3.png" class="status-img" alt="">');
                        $('#title-txt').append('<h1 id="h-txt">마스터까지 단 한 발짝!</h1>');
                        $('#comment-box').append(comm_txt3);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/buds.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/buds.png) no-repeat top center" });
                    } else {
                        $('#frame-box').append('<img src="../static/img_2/4.png" class="status-img" alt="">');
                        $('#title-txt').append('<h1 id="h-txt">당신은 분리수거 마스터!!</h1>');
                        $('#comment-box').append(comm_txt4);
                        $('#comm-txt').append('<hr class="style-four" id="hr-img2">');
                        $('#hr-img1').css({ "background": "url(../static/img_2/flower.png) no-repeat top center" });
                        $('#hr-img2').css({ "background": "url(../static/img_2/flower.png) no-repeat top center" });
                    }

                    /* txt 크기 수정 */
                }
            }
        });

        /*
        * @brief 버튼 클릭시 주소가 복사되게 하는 함수
        * @params {string} val 복사할 주소값
        * @return {}
        * @author 김진회
        * @date 21.08.29
        * 출처: https://manition.tistory.com/8
        */
        function copyToClipboard(val) {
            let t = document.createElement("textarea");
            document.body.appendChild(t);
            t.value = val;
            t.select();
            document.execCommand('copy');
            document.body.removeChild(t);
            alert('퀴즈주소 복사 완료!');
        }
    </script>
</head>

<body>
    <div class="modal">
        <div class="top-content">
            <div class="left-text">
                분리수거 테스트
            </div>
            <div class="level-frame">
                <img src="../static/img_2/seed.png" class="level-img" id="top-img">
            </div>
        </div>
        <div class="bottom-content">
            <div class="text" id="modal-title">
                당신의 분리수거 레벨은?
            </div>
            <p id="bottom-txt">

            </p>
            <div class="close-btn" id="modal-close">
                <button data-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>

    <div class="container-fluid pt-4">
        <div class="wrap">
            <div class="row frame" id="frame-box">
                <!-- Result Status Img -->

            </div>
            <div class="row pt-4">
                <div class="title" id="title-txt">
                    <!-- Result Title -->
                </div>
            </div>
            <div class="row">
                <div class="comment" id="comment-box">
                    <!-- Result Comment -->
                </div>
            </div>
            <div class="row mb-2">
                <button type="button" onclick="copyToClipboard('http://letyourlightshine.shop');"
                    class="btn btn-lg mr-4" style="width: 25%; margin: auto; background-color: orange; border: none; color: white">공유하기</button>
                <button type="button" onclick="levelup()"
                    class="btn btn-lg ml-4" style="width: 25%; margin: auto; background-color: orange; border: none; color: white">레벨업</button>
            </div>
        </div>
    </div>
    <script>
        function levelup() {

            modalStatus = 1;

            $('.modal').modal("show");

            $('#top-img').attr("src", "../static/img_2/recycle.png");
            $('#modal-title').text("분리배출 더 알고싶나요?");
            $('#bottom-txt').text("궁금증을 해결해 줄 페이지로"+ "\n" + "연결해드리겠습니다. ♡");
            $('#bottom-txt').css("font-size", "14px");
            /* $('#modal-close').text("이동"); */
        }

         $('.close-btn').click(function(){

             console.log(modalStatus);

             if (modalStatus == 1) {

                 console.log("modalstatus = 1");

                location.href = 'https://blisgo.com/ ';
                modalStatus = 0;
             }
         });
    </script>
</body>

</html>